<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mycode.jiaoxueyanjiu.jiaogaixiangmu.mapper.JiaoGaiXiangMuMapper">

    <!-- Member -->
    <select id="getMemberList" resultType="com.mycode.jiaoxueyanjiu.jiaogaixiangmu.domain.Member">
        SELECT * FROM JXYJ_JGXM_MEMBER WHERE XM_CODE = #{xmCode}
    </select>

    <insert id="insertMember">
        insert into JXYJ_JGXM_MEMBER (XM_CODE,USER_ID,USER_NAME,TASK)
        values (#{xmCode},#{userId},#{userName},#{task})
    </insert>

    <delete id="deleteMember">
        delete from JXYJ_JGXM_MEMBER
        <where>1=1
            <if test="xmCode !=null and xmCode !='' and userId !=null and userId !=''">
                and XM_CODE = #{xmCode}
                and USER_ID = #{userId}
            </if>
            <if test="xmCode !=null and xmCode !=''">
                and XM_CODE = #{xmCode}
            </if>
        </where>
    </delete>

    <!-- FundBudget -->
    <select id="getFundBudgetList" resultType="com.mycode.jiaoxueyanjiu.jiaogaixiangmu.domain.FundBudget">
        SELECT * FROM JXYJ_JGXM_FUND_BUDGET WHERE XM_CODE = #{xmCode}
    </select>

    <insert id="insertFundBudget">
        insert into JXYJ_JGXM_FUND_BUDGET (XM_CODE,SUBJECT,BUDGET_AMOUNT)
        values (#{xmCode},#{subject},#{budgetAmount})
    </insert>

    <delete id="deleteFundBudget">
        delete from JXYJ_JGXM_FUND_BUDGET
        <where>1=1
            <if test="xmCode !=null and xmCode !='' and subject !=null and subject !=''">
                and XM_CODE = #{xmCode}
                and SUBJECT = #{subject}
            </if>
            <if test="xmCode !=null and xmCode !=''">
                and XM_CODE = #{xmCode}
            </if>
        </where>
    </delete>

</mapper>